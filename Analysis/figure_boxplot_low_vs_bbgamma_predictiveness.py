import numpy as np
import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt

ft = [0.4044943820224719, 0.42718446601941745, 0.42372881355932207, 0.4065040650406504, 0.4, 0.5052631578947369, 0.3921568627450981, 0.3963963963963964, 0.5043478260869565, 0.512396694214876, 0.449438202247191, 0.58, 0.46017699115044247, 0.5511811023622047, 0.46, 0.3965517241379311, 0.3965517241379311, 0.453781512605042, 0.45871559633027525, 0.4727272727272728, 0.4835164835164835, 0.4040404040404041, 0.5137614678899083, 0.4166666666666667, 0.4672897196261682, 0.39252336448598135, 0.42, 0.44036697247706424, 0.4137931034482758, 0.5087719298245614, 0.4752475247524753, 0.44036697247706424, 0.5714285714285714, 0.5486725663716815, 0.4466019417475729, 0.42201834862385323, 0.49523809523809526, 0.4, 0.396694214876033, 0.43999999999999995, 0.42, 0.53781512605042, 0.5142857142857142, 0.5306122448979592, 0.45454545454545453, 0.4485981308411215, 0.4, 0.47407407407407404, 0.4038461538461538, 0.3917525773195876, 0.4077669902912621, 0.43809523809523815, 0.4466019417475729, 0.42857142857142855, 0.4576271186440678, 0.4466019417475729, 0.44799999999999995, 0.4, 0.39622641509433965]
hi = [0.28260869565217395, 0.40816326530612246, 0.3529411764705882, 0.288659793814433, 0.19148936170212766, 0.5, 0.34285714285714286, 0.29357798165137616, 0.14285714285714288, 0.4920634920634921, 0.4301075268817204, 0.5242718446601942, 0.1481481481481481, 0.13333333333333333, 0.4424778761061947, 0.3703703703703704, 0.22222222222222224, 0.4444444444444445, 0.3302752293577982, 0.26804123711340205, 0.4943820224719101, 0.2, 0.4954128440366973, 0.33999999999999997, 0.5, 0.3157894736842105, 0.22222222222222224, 0.2558139534883721, 0.18947368421052632, 0.3157894736842105, 0.32075471698113206, 0.37398373983739835, 0.5818181818181818, 0.5636363636363637, 0.4, 0.14285714285714288, 0.32653061224489793, 0.375, 0.33333333333333326, 0.3636363636363636, 0.3564356435643564, 0.44961240310077516, 0.4999999999999999, 0.4897959183673469, 0.44036697247706424, 0.4615384615384615, 0.4, 0.3511450381679389, 0.27999999999999997, 0.3529411764705882, 0.31858407079646023, 0.34615384615384615, 0.48543689320388356, 0.411214953271028, 0.2833333333333333, 0.4466019417475729, 0.22222222222222224, 0.09523809523809522, 0.22608695652173913]
lo = [0.31683168316831684, 0.2616822429906542, 0.3931623931623932, 0.49557522123893805, 0.43137254901960786, 0.3225806451612903, 0.17500000000000002, 0.24, 0.4406779661016949, 0.45871559633027525, 0.45454545454545453, 0.3529411764705882, 0.5309734513274337, 0.5185185185185186, 0.13793103448275865, 0.32727272727272727, 0.33962264150943394, 0.17391304347826086, 0.4000000000000001, 0.5357142857142858, 0.30927835051546393, 0.38834951456310685, 0.3518518518518518, 0.1818181818181818, 0.42424242424242425, 0.37037037037037035, 0.49056603773584906, 0.49523809523809526, 0.4666666666666667, 0.49600000000000005, 0.3709677419354838, 0.27272727272727276, 0.46315789473684216, 0.21052631578947367, 0.10389610389610389, 0.4102564102564103, 0.45217391304347826, 0.2653061224489796, 0.22222222222222224, 0.19277108433734938, 0.3709677419354838, 0.34545454545454546, 0.4752475247524753, 0.22916666666666666, 0.32075471698113206, 0.2247191011235955, 0.3030303030303031, 0.47407407407407404, 0.45161290322580644, 0.34862385321100914, 0.4807692307692308, 0.4210526315789474, 0.30107526881720426, 0.37499999999999994, 0.4509803921568628, 0.2857142857142857, 0.5, 0.36363636363636365, 0.34285714285714286]

data = [ft, hi, lo]


fig = plt.figure(figsize=(10, 5), dpi=200);

def panel_boxplots(data, significance, xlab, ylab):
    bp = plt.boxplot(data, widths=0.5)
    plt.ylim((0.0, 1.0))    
    plt.setp(bp['boxes'], color='blue')
    plt.setp(bp['whiskers'], color='blue')
    plt.setp(bp['fliers'], color='blue')
    plt.setp(bp['medians'], color='blue')
    plt.setp(bp['caps'], color='blue')
    
    # labels
    if ylab:
        plt.ylabel('F1 score', size=12);
        plt.yticks(np.arange(0.0, 1.1, 0.1), np.round(np.arange(0.0, 1.1, 0.1), 1), size=8);
    else:
        plt.yticks([], []);

    if xlab:
        plt.xlabel('Features', size=12);
        plt.xticks([1, 2, 3], ['4-150\nHz', '51-150\nHz', '4-50\nHz'], size=8, rotation=0);
    else:
        plt.xticks([], []);
    
    # significance brackets
    h = 0.02

    if significance[0] is not None:
        y = 0.80
        plt.plot([1, 1, 2-0.02, 2-0.02], [y, y+h, y+h, y], lw=0.5, c='black')
        plt.text((1 + 2) * .5, y + h, significance[0], ha='center', va='bottom', color='black', size=8)

    if significance[1] is not None:
        y = 0.80
        plt.plot([2+0.02, 2+0.02, 3, 3], [y, y+h, y+h, y], lw=0.5, c='black')
        plt.text((2 + 3) * .5, y + h, significance[1], ha='center', va='bottom', color='black', size=8)

    if significance[2] is not None:
        y = 0.89
        plt.plot([1, 1, 3, 3], [y, y+h, y+h, y], lw=0.5, c='black')
        plt.text((1 + 3) * .5, y + h, significance[2], ha='center', va='bottom', color='black', size=8)

for cid in range(8):
    ax = plt.subplot2grid((2, 4), (int(cid / 4), cid % 4), colspan=1, rowspan=1)
    #panel_boxplots(data, [0.0001, None, 0.0003], cid in [4, 5, 6, 7], cid in [0, 4])
    

plt.savefig('/Users/kuz/Desktop/temp.png', bbox_inches='tight');
plt.clf();
plt.close(fig);
